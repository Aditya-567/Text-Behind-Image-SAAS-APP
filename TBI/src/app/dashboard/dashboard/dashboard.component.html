<!-- Login Required Popup -->
@if (showLoginPopup) {
<div class="fixed inset-0 bg-white/60 z-50 flex items-center justify-center">
  <div
    class="bg-white border border-gray-200 rounded-xl box-shadow p-8 max-w-lg w-full mx-4 relative"
  >
    <!-- Close button -->
    <button
      (click)="closeLoginPopup()"
      class="absolute top-4 right-4 bg-gray-50 hover:bg-gray-200 cursor-pointer p-2 rounded-full"
    >
      <img src="cross.svg" alt="close" class="w-5 h-5" />
    </button>

    <!-- Popup content -->
    <div class="flex flex-col items-center text-center">
      <img
        src="login-popup.svg"
        alt="login required"
        class="w-32 h-32 mb-6 ml-8"
      />
      <h2 class="text-2xl font-bold text-[#444] mb-2">Sign in Required</h2>
      <p class="text-gray-600 mb-4">
        Sign in to unlock all features and benefits of TBI Studio
      </p>

      <div class="flex justify-between w-full mx-57 relative mb-14">
        <div
          class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-3 h-3 rounded-full z-10"
        >
          <div class="w-1 h-1 bg-white rounded-full"></div>
        </div>
        <div
          class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-3 h-3 rounded-full z-10"
        >
          <div class="w-1 h-1 bg-white rounded-full"></div>
        </div>
        <div
          class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-3 h-3 rounded-full z-10"
        >
          <div class="w-1 h-1 bg-white rounded-full"></div>
        </div>
        <div
          class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-3 h-3 rounded-full z-10"
        >
          <div class="w-1 h-1 bg-white rounded-full"></div>
        </div>
        <div
          class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-3 h-3 rounded-full z-10"
        >
          <div class="w-1 h-1 bg-white rounded-full"></div>
        </div>
        <div
          class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-3 h-3 rounded-full z-10"
        >
          <div class="w-1 h-1 bg-white rounded-full"></div>
        </div>

        <div
          class="py-[0.9px] rounded-full bg-purple-700 w-full absolute z-1 top-[5px]"
        ></div>
      </div>

      <!-- Action buttons -->
      <div class="flex flex-col w-full gap-3">
        <button
          (click)="navigateToLogin()"
          class="w-full py-3 px-4 fill-button"
        >
          Sign In
        </button>
        <button
          (click)="navigateToRegister()"
          class="w-full py-3 px-4 ghost-button"
        >
          Create Account
        </button>
      </div>

      <p class="text-[#555] text-sm mt-5">
        *No spam email, promise! Just sign in and start using all the features.
      </p>
    </div>
  </div>
</div>
}

<div class="min-h-screen flex flex-col items-center px-20">
  <div
    class="mx-[40px] mt-[100px] absolute inset-0 bg-[linear-gradient(to_right,theme(colors.gray.600)_2px,transparent_1px),linear-gradient(to_bottom,theme(colors.gray.600)_2px,transparent_1.5px)] bg-[size:2rem_2rem] opacity-8 [mask-image:radial-gradient(ellipse_at_center,black_60%,transparent_100%)]"
  ></div>

  <div class="pt-42 w-full flex flex-col items-center justify-center">
    <div class="w-full flex flex-col items-center justify-center">
      <h1
        class="text-[44px] font-extrabold tracking-wider drop-shadow-[2px_2.5px_0px_#888] text-[#333] mb-2"
      >
        Unleash Your Creative Vision with
        <span
          class="bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-purple-900"
          >TBI Studio</span
        >
      </h1>
      <p class="text-gray-600 text-md mb-10">
        Unleash your creativity—edit, enhance, and bring your words with
        powerful tools.
      </p>

      <div class="w-9/10 mx-auto">
        <div class="flex flex-wrap justify-center gap-3 w-full mx-auto pt-5">
          <div
            (click)="openTBI()"
            class="w-[420px] h-[160px] bg-blue-400/30 p-1 rounded transition-all duration-400 ease-in-out cursor-pointer relative group card-shadow-blue"
            (mousemove)="onMouseMove($event)"
            (mouseleave)="onMouseLeave($event)"
            style="--x: 50%; --y: 50%"
          >
            @if (!isLoggedIn()) {
            <div class="absolute top-0 right-0 z-10">
              <h1
                class="text-sm font-thin text-[#666] bg-white/20 p-1 px-2 rounded-bl shadow-xs"
              >
                Sign In Required
              </h1>
            </div>
            }

            <div
              class="flex flex-row items-center justify-center h-full rounded p-8 gap-4 bg-[#66bdff]"
            >
              <div class="rounded-full bg-white p-4">
                <img src="text.svg" alt="tbi" class="w-auto h-10" />
              </div>
              <div>
                <h1 class="text-[22px] text-[#555] font-bold">
                  TBI Text behind image
                </h1>
                <h1 class="text-[12px] text-[#555] pl-1">
                  Put text in background of your image
                </h1>
              </div>
            </div>
          </div>

          <!-- db -->
          <div
            class="w-[220px] h-[160px] bg-orange-500/30 rounded p-1 transition-all duration-400 ease-in-out cursor-pointer relative card-shadow-orange"
            (click)="handleCardClick()"
            (mousemove)="onMouseMove($event)"
            (mouseleave)="onMouseLeave($event)"
            style="--x: 50%; --y: 50%"
          >
            <!-- Sign in label shown only if not logged in -->
            @if (!isLoggedIn()) {
            <div class="absolute top-0 right-0 z-10">
              <h1
                class="text-sm font-thin text-[#666] bg-white/20 p-1 px-2 rounded-bl shadow-xs"
              >
                Sign In Required
              </h1>
            </div>
            }

            <!-- Main card content -->
            <div
              class="flex flex-col items-center justify-center h-full rounded p-6 bg-[#fd9963]"
            >
              <div class="rounded-full bg-white p-4">
                <img src="scan.svg" alt="tbi" class="w-auto h-10" />
              </div>
              <div>
                <h1 class="text-[22px] text-[#555] font-bold">Storage</h1>
              </div>
            </div>
          </div>
          <!------------------- card-2 -->
          <div
            class="w-[400px] h-[160px] bg-purple-400/30 rounded p-1 transition-all duration-400 ease-in-out cursor-pointer relative card-shadow-purple"
            (click)="handleCardClick()"
            (mousemove)="onMouseMove($event)"
            (mouseleave)="onMouseLeave($event)"
            style="--x: 50%; --y: 50%"
          >
            <!-- Sign in label shown only if not logged in -->
            @if (!isLoggedIn()) {
            <div class="absolute top-0 right-0 z-10">
              <h1
                class="text-sm font-thin text-[#666] bg-white/20 p-1 px-2 rounded-bl shadow-xs"
              >
                Sign In Required
              </h1>
            </div>
            }

            <!-- Main card content -->
            <div
              class="flex flex-row items-center justify-center gap-4 h-full rounded p-8 bg-[#d18ae5]"
            >
              <div class="rounded-full bg-white p-4">
                <img src="scan.svg" alt="tbi" class="w-auto h-10" />
              </div>
              <div>
                <h1 class="text-[22px] text-[#555] font-bold">
                  Object Removal
                </h1>
                <h1 class="text-[12px] text-[#555] pl-1">
                  Remove unwanted object
                </h1>
              </div>
            </div>
          </div>

          <!------------------- card-3 -->
          <div
            class="w-[240px] h-[200px] bg-green-400/30 rounded p-1 transition-all duration-400 ease-in-out cursor-pointer relative card-shadow-green"
            (click)="handleCardClick()"
            (mousemove)="onMouseMove($event)"
            (mouseleave)="onMouseLeave($event)"
            style="--x: 50%; --y: 50%"
          >
            <!-- Sign in label shown only if not logged in -->
            @if (!isLoggedIn()) {
            <div class="absolute top-0 right-0 z-10">
              <h1
                class="text-sm font-thin text-[#666] bg-white/20 p-1 px-2 rounded-bl shadow-xs"
              >
                Sign In Required
              </h1>
            </div>
            }

            <div
              class="flex flex-col items-center justify-center h-full rounded bg-[#69ff61]"
            >
              <div class="rounded-full bg-white p-4">
                <img src="image.svg" alt="tbi" class="w-auto h-10" />
              </div>
              <div>
                <h1 class="text-[22px] text-[#555] font-bold">Image Restore</h1>
                <h1 class="text-[12px] text-[#555] pl-1">
                  Remove unwanted object
                </h1>
              </div>
            </div>
          </div>

          <!------------------- card-4 -->
          <div
            class="w-[400px] h-[200px] bg-yellow-200/40 rounded p-1 transition-all duration-400 ease-in-out cursor-pointer relative card-shadow-yellow"
            (click)="handleCardClick()"
            (mousemove)="onMouseMove($event)"
            (mouseleave)="onMouseLeave($event)"
            style="--x: 50%; --y: 50%"
          >
            <!-- Sign in label shown only if not logged in -->
            @if (!isLoggedIn()) {
            <div class="absolute top-0 right-0 z-10">
              <h1
                class="text-sm font-thin text-[#666] bg-white/20 p-1 px-2 rounded-bl shadow-xs"
              >
                Sign In Required
              </h1>
            </div>
            }

            <div
              class="flex flex-row items-center justify-center h-full rounded gap-4 bg-[#eff240]"
            >
              <div class="rounded-full bg-white p-4">
                <img src="stars.svg" alt="tbi" class="w-auto h-10" />
              </div>
              <div>
                <h1 class="text-[22px] text-[#555] font-bold">
                  Generative Fill
                </h1>
                <h1 class="text-[12px] text-[#555] pl-1">
                  Remove unwanted object
                </h1>
              </div>
            </div>
          </div>

          <!------------------- card-5 -->
          <div
            class="w-[400px] h-[200px] bg-red-400/30 rounded p-1 transition-all duration-400 ease-in-out cursor-pointer relative card-shadow-red"
            (click)="handleCardClick()"
            (mousemove)="onMouseMove($event)"
            (mouseleave)="onMouseLeave($event)"
            style="--x: 50%; --y: 50%"
          >
            <!-- Sign in label shown only if not logged in -->
            @if (!isLoggedIn()) {
            <div class="absolute top-0 right-0 z-10">
              <h1
                class="text-sm font-thin text-[#666] bg-white/20 p-1 px-2 rounded-bl shadow-xs"
              >
                Sign In Required
              </h1>
            </div>
            }
            <!-- Sign in label shown only if not logged in -->
            <div
              class="flex flex-row items-center justify-center h-full rounded gap-4 bg-[#ff7575]"
            >
              <div class="rounded-full bg-white p-4">
                <img src="filter.svg" alt="tbi" class="w-auto h-10" />
              </div>
              <div>
                <h1 class="text-[22px] text-[#555] font-bold">
                  Object Recolor
                </h1>
                <h1 class="text-[12px] text-[#555] pl-1">
                  Remove unwanted object
                </h1>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="flex flex-col items-center justify-center w-full pt-8">
  <div class="overflow-hidden w-full">
    <div class="scroll-track flex gap-6 px-4">
      <ng-container *ngFor="let card of featureCards">
        <div
          class="feature-card flex flex-row p-2 my-2 boxShadow rounded-lg bg-white gap-4 max-w-[560px] border border-gray-200"
        >
          <img
            [src]="card.icon"
            alt="icon"
            class="w-auto h-12 bg-gray-200 rounded p-2"
          />
          <div class="flex flex-col items-start">
            <p
              class="text-md font-bold text-[#222] leading-relaxed tracking-wider"
            >
              {{ card.title }}
            </p>
            <p class="text-gray-500 font-mono text-[12px] leading-relaxed">
              {{ card.description }}
            </p>
          </div>
        </div>
      </ng-container>

      <ng-container *ngFor="let card of featureCards">
        <div
          class="feature-card flex flex-row p-2 my-2 boxShadow rounded-lg bg-white gap-4 max-w-[560px] border border-gray-200"
        >
          <img
            [src]="card.icon"
            alt="icon"
            class="w-auto h-12 bg-gray-200 rounded p-2"
          />
          <div class="flex flex-col items-start">
            <p
              class="text-md font-bold text-[#222] leading-relaxed tracking-wider"
            >
              {{ card.title }}
            </p>
            <p class="text-gray-500 font-mono text-[12px] leading-relaxed">
              {{ card.description }}
            </p>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
<div class="flex flex-col items-center justify-center w-full pb-4 mb-10">
  <div class="overflow-hidden w-full">
    <div class="scroll-track-left flex gap-6 px-4">
      <ng-container *ngFor="let card of featureCardsSecond">
        <div
          class="feature-card flex flex-row items-center p-2 my-2 boxShadow rounded-lg bg-white gap-4 max-w-[560px] border border-gray-200"
        >
          <img [src]="card.icon" alt="icon" class="w-auto h-8" />
          <div class="flex flex-col items-start">
            <p
              class="text-sm font-medium text-[#333] leading-relaxed tracking-wider"
            >
              {{ card.title }}
            </p>
          </div>
        </div>
      </ng-container>

      <ng-container *ngFor="let card of featureCardsSecond">
        <div
          class="feature-card flex flex-row items-center p-2 my-2 boxShadow rounded-lg bg-white gap-4 max-w-[560px] border border-gray-200"
        >
          <img [src]="card.icon" alt="icon" class="w-auto h-8" />
          <div class="flex flex-col items-start">
            <p
              class="text-sm font-medium text-[#333] leading-relaxed tracking-wider"
            >
              {{ card.title }}
            </p>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>

<div
  id="Guide"
  class="w-[80%] mx-auto mt-[100px] mb-[150px] border border-gray-200 p-8 rounded-2xl"
>
  <div class="text-center mb-4 mt-6">
    <h2
      class="w-full mx-auto text-center text-3xl md:text-5xl font-black tracking-tight leading-tight text-[#444]"
    >
      Edit Your Image in
      <span
        class="bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-purple-900"
        >4 Simple Steps</span
      >
    </h2>
  </div>

  <div class="flex justify-between mx-57 relative mb-20">
    <div
      class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-4 h-4 rounded-full z-10"
    >
      <div class="w-2 h-2 bg-white rounded-full"></div>
    </div>
    <div
      class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-4 h-4 rounded-full z-10"
    >
      <div class="w-2 h-2 bg-white rounded-full"></div>
    </div>
    <div
      class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-4 h-4 rounded-full z-10"
    >
      <div class="w-2 h-2 bg-white rounded-full"></div>
    </div>
    <div
      class="text-xl flex items-center justify-center font-extrabold text-white bg-purple-700 w-4 h-4 rounded-full z-10"
    >
      <div class="w-2 h-2 bg-white rounded-full"></div>
    </div>

    <div
      class="py-[1.5px] rounded-full bg-purple-700 w-full absolute z-1 top-1.5"
    ></div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
    @for (step of steps; track step.title) {
    <div
      class="p-6 py-8 bg-white shadow-sm rounded-2xl border border-gray-100 flex flex-col items-center text-center transition hover:shadow-lg"
    >
      <img
        [src]="step.Image"
        alt="Step {{ step.Image }}"
        class="w-12 h-12 mb-8"
      />
      <!-- Title -->
      <h3 class="font-bold text-lg text-gray-700">
        {{ step.title }}
      </h3>

      <!-- Description -->
      <p class="text-sm text-gray-400 mt-1">
        {{ step.description }}
      </p>
    </div>
    }
  </div>
</div>

<!-- Footer -->
<div class="flex flex-col items-center mt-20 bg-[#222]">
  <div class="flex justify-between w-[80%] pt-10 bg-[#222]">
    <div class="flex gap-6">
      <div class="flex flex-col">
        <h1 class="text-xl font-extrabold text-[#999] mb-4">
          TBI Studio - Where Creativity Meets
          Innovation
        </h1>
        <p class="text-[#888] text-sm mb-1">
          ✨ Powerful AI-driven tools for seamless image manipulation and
          enhancement
        </p>
        <p class="text-[#888] text-sm mb-1">
          ✨ Add stunning text effects behind your images with just a few clicks
        </p>
        <p class="text-[#888] text-sm mb-1">
          ✨ Smart object removal and restoration capabilities
        </p>
        <p class="text-[#888] text-sm mb-1">
          ✨ Professional-grade results with user-friendly interface
        </p>

        <div class="flex flex-row gap-4 mt-6">
          <div
            class="bg-[#555] p-1 rounded-full transition-all duration-400 ease-in-out transform hover:scale-[1.07]"
          >
            <div
              class="rounded-full bg-[#555] p-1 transition-all duration-400 ease-in-out transform hover:scale-[1.07] hover:bg-purple-50 cursor-pointer"
            >
              <img src="linkedin2.svg" alt="tbi" class="w-auto h-8 " />
            </div>
          </div>
          <div
            class="bg-[#555] p-1 rounded-full transition-all duration-400 ease-in-out transform hover:scale-[1.07]"
          >
            <div
              class="rounded-full bg-[#555] p-1 transition-all duration-400 ease-in-out transform hover:scale-[1.07] hover:bg-purple-50 cursor-pointer"
            >
              <img src="facebook2.svg" alt="tbi" class="w-auto h-8 " />
            </div>
          </div>
          <div
            class="bg-[#555] p-1 rounded-full transition-all duration-400 ease-in-out transform hover:scale-[1.07]"
          >
            <div
              class="rounded-full bg-[#555] p-1 transition-all duration-400 ease-in-out transform hover:scale-[1.07] hover:bg-purple-50 cursor-pointer"
            >
              <img src="github2.svg" alt="tbi" class="w-auto h-8 p-0.5" />
            </div>
          </div>
          <div
            class="bg-[#555] p-1 rounded-full transition-all duration-400 ease-in-out transform hover:scale-[1.07]"
          >
            <div
              class="rounded-full bg-[#555] p-1 transition-all duration-400 ease-in-out transform hover:scale-[1.07] hover:bg-purple-50 cursor-pointer"
            >
              <img src="instagram.svg" alt="tbi" class="w-auto h-8" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <img src="camera.gif" class="w-[200px] h-[200px] mb-8 mr-18" alt="Lord Icon" />
  </div>

  <div
      class="text-center pt-10 pb-4  w-[80%] flex justify-between"
    >
      <p class="text-[#666]">
        &copy; Copyright TBI Studio 2025, All rights reserved.
      </p>
      <div class="flex gap-8 text-[#777]">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
      </div>
    </div>
</div>

<!-- Scroll to top button -->
@if (showScrollTop) {
<button
  (click)="scrollToTop()"
  class="fixed bottom-8 right-8 hover:mb-1 cursor-pointer p-3 bg-blue-500 hover:bg-purple-600 text-white rounded-full shadow-lg transition-all duration-300 ease-in-out transform hover:scale-110 focus:outline-none z-50"
  aria-label="Scroll to top"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="h-5 w-5"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="3"
      d="M5 10l7-7m0 0l7 7m-7-7v18"
    />
  </svg>
</button>
}
